<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<!--links bootstrap to html file-->

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">

<body>

    <nav class="navbar navbar-light bg-light">
        <span class="navbar-text">
            <h1 class="header">HANGMAN</h1> 
        </span>
    </nav>

    <!--create the grid system for the html display of the game  2 main colums- the left with six rows, and the right with 3 rows-->

    <div class="container">
        <div class="row">
            <div id="row1display" class="col-md-6">
                <div class="row-md-6">
                    <p id="welcome">Welcome to the game. </p>
                </div>
                <div class="row-md-12">
                    <p id="hiddenWord">Hidden Word </p>
                </div>
                <div class="row-md-6"> 
                    <p id="all-letters-guessed">Letters Guessed: </p>         
                </div>
                <div class="row-md-6">
                    <p id="guessesLeft">Guesses Left </p>
                </div>
                <div class="row-md-6">
                    <p id="wins">Wins </p> 
                </div>
                <div class="row-md-6">
                    <p id="losses">Losses </p> 
                </div>
            </div>
            <div class="col-md-6">
                <p>HANGMAN AREA</p>
            </div>
        </div>

        
        <script type="text/javascript">

            var welcome = prompt("Press any key to start.");

           console.log("welcome" + welcome);
                
                function play(x){
                if (x == true) {
                    prompt("You want to play!");

                    //put game here
                }
                else {
                    prompt("You don't want to play.  see you next time!");
                    break; //end game
                }
                }

            play(welcome) //call on welcome to decide if play or not.
            
            
            //stores some random words.  Computer guesses from this array.
            var randomArray = ["cat", "dog", "bird"]

            //setting up wins, losses, and #of guesses remaining.//
            var wins = 0
            var lose = 0
            var guessesRemaining = 10

            //create an array to hold user guesses.
            var guessArray = [];

            //create an array to hold correct guesses
            var correctLettersArray = [];

            //create an array to hold incorrect guesses
            var wrongLettersArray = [];

            //create and array to replace inex position of random word with underscores for HTML
            var underScoreArray = [];


            //chooses a random word from randomArray
            var mysteryWord = randomArray[Math.floor(Math.random() * randomArray.length)]
            console.log(mysteryWord);


            //Creates a new empty array to hold current word//
            var mysteryWordArray = [];

            //breaks mysteryWord into individual letters and places into mysteryWordArray//
            mysteryWordArray = mysteryWord.split('');
          
           
            //iterates through mysteryWordArray and replaces each index with an "_".
            function makeUnderscoreArray(list) {
                for (var i = 0; i < list.length; i++) {
                   underScoreArray.push(i);
                   underScoreArray[i]= "____, "
                }
            }

            //calls on makeUnderscoreArray with mysteryWordArray argument.
            makeUnderscoreArray(mysteryWordArray)

            console.log("underscore array" + underScoreArray);
            
            //displays underscore array that is same length as mystery word in HTML at id hiddenWord.
            function displayWord() {
                var wordToDisplay = []
                for (var i = 0; i < mysteryWordArray.length; i++) {
                    if (guessArray.includes(mysteryWordArray[i])) {

                        //puts mysteryWordArray letter in wordToDisplay at matching index
                        wordToDisplay.push(mysteryWordArray[i]);
                    }
                    else {
                        //puts __ in wordToDisplay at matching index
                        wordToDisplay.push("_");
                    }
                }

                 console.log(wordToDisplay);
                document.getElementById("hiddenWord").innerHTML = wordToDisplay.join("___, "); 
            }

            

            //displays wins in HTML
            document.getElementById("wins").innerHTML = wins; 

            //displays losses in HTML
            document.getElementById("losses").innerHTML = lose; 

            
            
            
            

            // Next, we give JavaScript a function to execute when onkeyup event fires. ****** Ending } is at end of program*********
            document.onkeyup = function (event) {

                // Determines which key was pressed.
                var userGuess = event.key;

                //sets up condition to play game until guesses remainin = 0
                // while (guessesRemaining > 0) {


                //puts guess into guessArray 
                guessArray.push(userGuess);

                if (mysteryWordArray.indexOf(userGuess) > -1) {
                    correctLettersArray.push(userGuess);

                    // checkIfPlayerWins() 
                }
                else {
                    wrongLettersArray.push(userGuess);
                    guessesRemaining--;
                }

                //displays guesses remaing in HTML
            document.getElementById("guessesLeft").innerHTML = "<p> Guesses Remaining:" + guessesRemaining + "</p>"; 

                if (guessesRemaining === 0) {
                    var playAgain = prompt("You lost.  Enter 'y' to play again.  Enter 'n' if you don't want to play again.")
                    if (playAgain === 'y') { //starts program over.  Think I need a play funtion to hold entire program or call document.onkeyup again?
                        play(welcome); //restarts game?
                    } 
                    else {
                        prompt("Good bye"); //stops program from running
                        break;
                    }
                }

                displayWord()  //this function is updating the HTML id=all-letters-guessed 
                document.getElementById("all-letters-guessed").innerHTML = "Letters Guessed: " + guessArray.join(', ');



                console.log(mysteryWordArray);

                console.log("guesses remaining: " + guessesRemaining);

                console.log("guessArray:" + guessArray);
                console.log("mystery word array:" + mysteryWordArray);

            }; //document.onkeyup curly
           // } //play curly
        </script>
</body>

</html>